> 이 글은 "혼자 공부하는 컴퓨터 구조 + 운영체제"를 읽고 이해한 내용을 복습하기 위해 작성하는 글입니다.

> 이미지 출처 : 혼자 공부하는 컴퓨터 구조 + 운영체제

## 메모리 / 캐시 메모리

### 1. RAM

- 실행할 프로그램의 명령어, 데이터가 저장

1. DRAM (Dynamic RAM)

   - 저장된 데이터가 동적으로 변하는 (사라지는) RAM

   - 따라서 데이터 소멸을 막기위해 주기적으로 데이터를 다시 저장해야 한다.

2. SRAM (Static RAM)

   - DRAM과 반대로 저장된 데이터가 변하지 않는 RAM

   - 일반적으로 DRAM 보다 빠르다.
   - 캐시 메모리에서 사용됨.

3. SDRAM (Synchronous Dynamic RAM)

   - 클럭 신호와 동기화된 RAM

   - 클럭에 맞추어 동작 하며, CPU와 정보를 주고받는다.

4. DDR SDRAM (Double Data Rate RAM)

   - 대역폭을 넓혀 속도를 빠르게 만든 SDRAM

   - 대역폭 : 데이터를 주고받는 길의 너비

### 2. 메모리의 주소공간

1. 주소

   1. 물리주소

      - 메모리 하드웨어가 사용

   2. 논리주소

      - CPU, 프로그램이 사용

   - CPU와 메모리가 상호작용하려면 두 주소간의 변환이 이루어져야 함

   - **메모리 관리 장치(MMU)**에 의해 변환이 수행됨

   ![mmu](https://velog.velcdn.com/images/cnffjd95/post/1421d483-57c6-4e06-886e-35855a33fa63/image.jpg)

   > 베이스 레지스터 : 프로그램의 첫 물리주소를 저장
   > 논리 주소 : 프로그램의 시작점부터 떨어진 거리

2. 메모리 보호 기법
   - 한계 레지스터

     - 서로 다른 프로그램의 논리 주소 범위를 벗어나는 명령어 실행을 방지/실행중인 프로그램 보호

     ![한계레지스터1](https://velog.velcdn.com/images/cnffjd95/post/74d9e396-19cb-488f-bf11-395dc7ab40b0/image.jpg)
     ![한계레지스터2](https://velog.velcdn.com/images/cnffjd95/post/18c92fd0-7e43-4870-9873-7cbc2fc7f774/image.jpg)

### 3. 캐시 메모리

1. 저장 장치 계층 구조

   - 컴퓨터에 사용되는 저장장치들이 CPU에 얼마나 가까운지를 나타내는 구조
     ![저장장치계층구조](https://velog.velcdn.com/images/cnffjd95/post/3d7bdedf-26a5-4d67-804e-2862da067867/image.jpg)

2. 캐시 메모리

   - CPU와 메모리 사이에 위치하여, 레지스터보다 용량이 크고 메모리보다 빠른 SRAM 장치

   - CPU가 계속해서 메모리에 접근하기보다 CPU가 사용할 일부 메모리를 캐시 메모리에 가지고와서 활용.

   - 저장 장치 계층 구조에서 레지스터 밑에 위치한다.
     ![캐시 메모리](https://velog.velcdn.com/images/cnffjd95/post/6b22e129-9943-4bca-9fa7-18c23d9c3d40/image.jpg)
   - 코어와 가까운 캐시 메모리부터 L1(코어 내부), L2(코어 내부), L3 캐시(코어 외부)라고 부른다.

     멀티코어 프로세서에서 L1, L2 캐시는 코어마다 모유한 캐시 메모리로, L3는 여러 코어가 공유하는 형태로 사용된다.

3. 참조 지역성 원리

   1. 캐시 히트 (Cache Hit)
      - 캐시 메모리 내의 데이터가 CPU에서 활용되는 경우
   2. 캐시 미스 (Cache Miss) - 캐시 메모리내의 데이터가 필요없어 직접 메모리에 접근하여 가져오는 경우
      > 캐시 적중률 : 캐시 히트 / (캐시 히트 횟수 + 캐시 미스 횟수)
      > 높을수록 CPU가 메모리에 직접 접근하는 경우를 줄여 속도를 높힌다.

   - 시간 지역성 : 최근에 접근했던 메모리에 다시 접근하려는 경향
   - 공간 지역성 : 접근한 메모리 공간 근처에 접근하려는 경향

   > 시간 지역성 / 공간 지역성을 바탕으로 CPU가 사용할법한 데이터를 예측한다.
